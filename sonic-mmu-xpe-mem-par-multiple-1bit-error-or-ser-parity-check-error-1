# SONiC MMU XPE MEM PAR multiple 1bit error or SER Parity Check Error

## Please help us improve our TSG's by clicking thumbs up or down on the right side of this page

-----

On certain broadcom platforms (Arista 7260CX3, Force10-S6100), we have observed "MMU XPE MEM PAR multiple 1bit error or SER Parity Check Error" which some may cause traffic Rx drops

# **Multiple 1bit error or 2 bit errors:**

## *Check if the device has these errors*

-  Run the following query to confirm if the device has these errors in the syslogs

```
let devicename="{DeviceName}";
cluster('azphynet.kusto.windows.net').database('azdhmds').SyslogData
| where TIMESTAMP > ago(4h)
| where Message has_cs "multiple 1bit error" or Message has_cs "MMU SC MEM PAR  parity/2bit error"
| where Device in~ ( devicename )
| project Message
```

```
Message
<14>Mar 31 22:11:33 BLZ21-0101-0616-08T0 syncd#supervisord: syncd 0:_soc_tomahawk_ser_process_mmu_err: unit 0 MMU XPE MEM PAR multiple 1bit error at address 0x3da18158#015
<14>Mar 31 22:25:06 BLZ21-0101-0616-08T0 syncd#supervisord: syncd 0:_soc_tomahawk_ser_process_mmu_err: unit 0 MMU XPE MEM PAR multiple 1bit error at address 0x3da18158#015
<14>Mar 31 22:24:20 BLZ21-0101-0616-08T0 syncd#supervisord: syncd 0:_soc_tomahawk_ser_process_mmu_err: unit 0 MMU XPE MEM PAR multiple 1bit error at address 0x3da18158#015
```
## Mitigation

If these messages are seen, please follow the below steps to mitigate the incident
- Use this TSG to drain traffic and isolate the device [Traffic Shift and Device Isolation](https://eng.ms/docs/cloud-ai-platform/azure-core/azure-networking/network-infra-nikothar/fabric-network-devices/tsg/wiki/tsg/how-to-traffic-shift-away-and-isolate-a-device)
- Mitigate the ICM
- Search for ICM to see if this device has the same problem before. If the problem had occured previously then RMA the device with this [TSG](https://eng.ms/docs/cloud-ai-platform/azure-core/azure-networking/network-infra-nikothar/fabric-network-devices/tsg/wiki/tsg/alert-tsg/bad-device-rma-procedure)
- If this is the first time
    - Once the traffic is drained and device is isolated reboot the device with command `sudo reboot`
    - Wait for the device to come up.
    - If this ticket is handled by DRI then Montior the syslog for 15 mins to see if the device is still seeing the multiple 1bit or 2 bit errors.
    - If the same errors are seen again then RMA the device with this [TSG](https://eng.ms/docs/cloud-ai-platform/azure-core/azure-networking/network-infra-nikothar/fabric-network-devices/tsg/wiki/tsg/alert-tsg/bad-device-rma-procedure)
    - If the device is healthy use this TSG to [Traffic Shift Back TSG](https://eng.ms/docs/cloud-ai-platform/azure-core/azure-networking/network-infra-nikothar/fabric-network-devices/tsg/wiki/tsg/traffic-shift-back)

- Resolve the ticket 


